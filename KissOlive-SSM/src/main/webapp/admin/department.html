<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>院系信息</title>
		<link rel="stylesheet" type="text/css" href="../lib/bootstrap/css/bootstrap.css" />
		<link rel="stylesheet" href="../css/base.css" />
	</head>

	<body>
		<div class="container" style="margin-top: 50px;">
			<!-- Button trigger modal 添加模态框-->
			<button type="button" class="btn btn-success" data-toggle="modal" data-target="#add_department">
  				新增
			</button>

			<div class="modal fade" id="add_department" tabindex="-1" role="dialog" aria-labelledby="adddepartment" data-backdrop='static'>
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title" id="adddepartment">添加院系信息</h4>
						</div>
						<div class="modal-body">
							<form action="#" method="post" class="form-horizontal">
								<div class="form-group">
									<label for="add_department_number" class="col-sm-2 control-label">系编号</label>
									<div class="col-sm-9">
										<input type="text" class="form-control" id="add_department_number">
									</div>
								</div>
								<div class="form-group">
									<label for="add_department_name" class="col-sm-2 control-label">系名</label>
									<div class="col-sm-9">
										<input type="text" class="form-control" id="add_department_name">
									</div>
								</div>
								<div class="form-group">
									<label for="add_department_manager" class="col-sm-2 control-label">系主任</label>
									<div class="col-sm-9">
										<input type="text" class="form-control" id="add_department_manager">
									</div>
								</div>
								<div class="form-group">
									<label for="add_department_tel" class="col-sm-2 control-label">系主任联系方式</label>
									<div class="col-sm-9">
										<input type="text" class="form-control" id="add_department_tel">
									</div>
								</div>

							</form>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
							<button type="button" class="btn btn-primary" onclick="add_department()" data-dismiss="modal">确定</button>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-12">
					<table class="table" id="department_list">
						<thead>
							<tr>
								<th>系编号</th>
								<th>系名</th>
								<th>系主任</th>
								<th>系主任联系方式</th>
								<th>操作</th>
							</tr>
						</thead>
						<tbody>
							<tr v-for="(data,index) in datas" :key="data.dno">
								<td>{{data.dno}}</td>
								<td>{{data.dname}}</td>
								<td>{{data.dmanager}}</td>
								<td>{{data.dtel}}</td>
								<td>
									<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#change_department" @click="edit(index)">
										修改
									</button>
									<button type="button" class="btn btn-danger" onclick="delete_department(this)">删除</button>
								</td>
							</tr>

						</tbody>
					</table>
				</div>
				<!-- 修改模态框 -->
				<div class="modal fade" id="change_department" tabindex="-1" role="dialog" aria-labelledby="changedepartment" data-backdrop='static'>
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
								<h4 class="modal-title" id="changedepartment">修改院系信息</h4>
							</div>
							<div class="modal-body">
								<form action="#" method="post" class="form-horizontal">
									<div class="form-group">
										<label for="department_number" class="col-sm-2 control-label">系编号</label>
										<div class="col-sm-9">
											<input type="text" class="form-control" id="department_number" disabled="disabled">
										</div>
									</div>
									<div class="form-group">
										<label for="department_name" class="col-sm-2 control-label">系名</label>
										<div class="col-sm-9">
											<input type="text" class="form-control" id="department_name">
										</div>
									</div>
									<div class="form-group">
										<label for="department_manager" class="col-sm-2 control-label">系主任</label>
										<div class="col-sm-9">
											<input type="text" class="form-control" id="department_manager">
										</div>
									</div>
									<div class="form-group">
										<label for="department_telephone" class="col-sm-2 control-label">系主任联系方式</label>
										<div class="col-sm-9">
											<input type="text" class="form-control" id="department_telephone">
										</div>
									</div>

								</form>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
								<button type="submit" class="btn btn-primary" onclick="edit_department()">确定</button>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>

		<script src="../lib/jquery.js"></script>
		<script src="../lib/vue.js"></script>
		<script src="../lib/bootstrap/js/bootstrap.js"></script>
		<script type="text/javascript" src="js/admin_department.js"></script>
	</body>

</html>